* {
    border: none;
    border-radius: 0;
    min-height: 0;
    padding: 0;
    margin: 0;
    font-family: "Inter", "Noto Sans", "Cantarell", "Ubuntu", sans-serif;
    font-size: 14px;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

window#waybar {
    --bg-primary: hsl(0, 0%, 4%);
    --bg-secondary: hsl(0, 0%, 8%);
    --bg-tertiary: hsl(0, 0%, 12%);
    --fg-primary: hsl(0, 0%, 92%);
    --fg-secondary: hsl(0, 0%, 75%);
    --fg-tertiary: hsl(0, 0%, 55%);
    --border-default: hsl(0, 0%, 18%);

    --accent-h: 348;
    --accent-s: 100%;
    --accent-l-base: 57%;
    --accent-l-darker: 45%;
    --accent-l-lighter: 69%;
    --accent-l-highlight: 75%;

    --accent-primary: hsl(var(--accent-h), var(--accent-s), var(--accent-l-base));
    --accent-primary-grad-start: hsl(var(--accent-h), var(--accent-s), var(--accent-l-lighter));
    --accent-primary-grad-end: hsl(var(--accent-h), var(--accent-s), var(--accent-l-darker));
    --accent-secondary: hsl(var(--accent-h), calc(var(--accent-s) * 0.9), var(--accent-l-darker));
    --accent-highlight: hsl(var(--accent-h), var(--accent-s), var(--accent-l-highlight));
    --accent-gradient: linear-gradient(135deg, var(--accent-primary-grad-start) 0%, var(--accent-primary) 50%, var(--accent-primary-grad-end) 100%);

    --font-ui: "Inter", "Noto Sans", "Cantarell", "Ubuntu", sans-serif;
    --font-mono: "JetBrainsMono Nerd Font", "Fira Code", "Hack", monospace;
    --font-icons: "Font Awesome 6 Free Solid", "Material Design Icons", "JetBrainsMono Nerd Font";
    --font-size-base: 14px;
    --font-size-small: calc(var(--font-size-base) * 0.85);
    --font-size-large: calc(var(--font-size-base) * 1.15);
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-bold: 600;

    --spacing-unit: 4px;
    --radius-base: calc(6px * 0.7);
    --module-padding-v: calc(var(--spacing-unit) * 1.25);
    --module-padding-h: calc(var(--spacing-unit) * 2.5);
    --module-margin-v: var(--spacing-unit);
    --module-margin-h: calc(var(--spacing-unit) * 1.25);
    --radius-module: var(--radius-base);
    --radius-button: calc(var(--radius-base) * 0.8);
    --radius-tooltip: var(--radius-base);
    --bar-border-height: 3px;
    --border-width-thin: 1px;
    --border-width-normal: 2px;

    --transition-duration-base: calc(0.2s * 0.7 * 1);
    --transition-duration-fast: calc(var(--transition-duration-base) * 0.6);
    --transition-duration-normal: var(--transition-duration-base);
    --transition-duration-slow: calc(var(--transition-duration-base) * 1.5);
    --transition-timing-standard: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --transition-properties-common: background, color, border-color, opacity, box-shadow, transform, filter;

    --shadow-opacity-base: 0.1;
    --shadow-color-ambient: hsla(0, 0%, 0%, calc(var(--shadow-opacity-base) * 0.8));
    --shadow-color-direct: hsla(0, 0%, 0%, calc(var(--shadow-opacity-base) * 1.2));
    --shadow-module: 0 2px 5px -1px var(--shadow-color-ambient), 0 4px 8px -2px var(--shadow-color-direct);
    --shadow-module-hover: 0 5px 10px -2px var(--shadow-color-ambient), 0 8px 16px -3px var(--shadow-color-direct);
    --shadow-tooltip: 0 8px 24px -4px var(--shadow-color-direct);
    --shadow-inner-pressed: inset 0 2px 4px hsla(0, 0%, 0%, 0.2);
    --text-shadow-subtle: 1px 1px 2px hsla(0, 0%, 0%, calc(0.1 * 1 * 1));
    --text-shadow-header: 0 1px 3px hsla(0, 0%, 0%, calc(0.15 * 1 * 1));

    --transform-scale-factor: 0.03;
    --interaction-transform-hover-lift: translateY(-2px);
    --interaction-transform-hover-scale: scale(1.03);
    --interaction-transform-active-press: scale(0.95545);

    --alpha-glow: 0.35;
    --glow-color: hsla(var(--accent-h), var(--accent-s), calc(var(--accent-l-base) + 8%), var(--alpha-glow));
    --glow-focused: 0 0 15px 3px var(--glow-color);

    --opacity-disabled: 0.5;
    --cursor-disabled: not-allowed;
    --cursor-pointer: pointer;
    --bg-disabled: hsl(0, 0%, 50%);
    --fg-disabled: hsl(0, 0%, 30%);
    --filter-disabled: grayscale(50%);
    --grey-700: hsl(0, 0%, 40%);
    --bg-error: hsl(0, 70%, 50%);
    --fg-error: hsl(0, 0%, 100%);
    --border-error: hsl(0, 80%, 60%);
    --border-style-dashed: dashed;

    font-family: var(--font-ui);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-normal);
    background: var(--bg-primary);
    color: var(--fg-primary);
    position: relative;
    border-bottom: none;
}

window#waybar::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: var(--bar-border-height);
    background: linear-gradient(90deg,
        var(--accent-primary-grad-start), var(--accent-highlight),
        var(--accent-primary), var(--accent-highlight),
        var(--accent-primary-grad-end), var(--accent-highlight),
        var(--accent-primary), var(--accent-highlight),
        var(--accent-primary-grad-start));
    background-size: 400% 100%;
    animation: bar-border-sweep-animation calc(10s * 0.7) linear infinite;
    z-index: 0;
    opacity: 1;
    box-shadow: 0 -2px 8px -2px hsla(var(--accent-h), var(--accent-s), var(--accent-l-base), calc(0.3 * 1));
}

@keyframes bar-border-sweep-animation {
    0% {background-position: 0% 50%;}
    100% {background-position: 400% 50%;}
}

@keyframes urgent-pulse-animation {
    0% {transform: scale(1); box-shadow: 0 0 5px -1px var(--accent-primary), var(--shadow-module); opacity: 1;}
    50% {transform: scale(1.05); box-shadow: 0 0 15px 2px var(--accent-primary), var(--shadow-module-hover); opacity: 0.8;}
    100% {transform: scale(1); box-shadow: 0 0 5px -1px var(--accent-primary), var(--shadow-module); opacity: 1;}
}

@keyframes focused-glow-animation {
    from {box-shadow: var(--shadow-module-hover), var(--glow-focused); transform: scale(1.01);}
    to {box-shadow: var(--shadow-module-hover), 0 0 20px 5px var(--glow-color); transform: scale(1.02);}
}

@keyframes state-feedback-animation {
    0% {transform: scale(0.92); opacity: 0.6;}
    50% {transform: scale(1.04); opacity: 1;}
    100% {transform: scale(1); opacity: 1;}
}

@keyframes dynamic-border-animation {
    from {transform: scaleX(0) translateX(-50%); opacity: 0.5;}
    to {transform: scaleX(1) translateX(-50%); opacity: 1;}
}

#mode, #clock, #battery, #cpu, #memory, #network, #pulseaudio, #tray, #custom-power, #hyprland-window {
    padding: var(--module-padding-v) var(--module-padding-h);
    margin: var(--module-margin-v) var(--module-margin-h);
    color: var(--fg-primary);
    border: var(--border-width-thin) solid var(--border-default);
    border-radius: var(--radius-module);
    box-shadow: var(--shadow-module);
    transition-property: var(--transition-properties-common);
    transition-duration: var(--transition-duration-normal);
    transition-timing-function: var(--transition-timing-standard);
    position: relative;
    z-index: 1;
    overflow: hidden;
    background-color: var(--bg-secondary);
}

#clock:not(.disabled):not(.error):not(.active):hover,
#battery:not(.disabled):not(.error):not(.active):hover,
#cpu:not(.disabled):not(.error):not(.active):hover,
#memory:not(.disabled):not(.error):not(.active):hover,
#network:not(.disabled):not(.error):not(.active):hover,
#pulseaudio:not(.disabled):not(.error):not(.active):hover,
#tray:not(.disabled):not(.error):not(.active):hover {
    background: var(--bg-tertiary);
    color: var(--fg-primary);
    border-color: var(--accent-highlight);
    box-shadow: var(--shadow-module-hover);
    transform: var(--interaction-transform-hover-lift) var(--interaction-transform-hover-scale);
    transition-duration: var(--transition-duration-fast);
    z-index: 10;
}

#clock:not(.disabled):not(.error):focus, #clock:not(.disabled):not(.error):focus-within,
#battery:not(.disabled):not(.error):focus, #battery:not(.disabled):not(.error):focus-within,
#cpu:not(.disabled):not(.error):focus, #cpu:not(.disabled):not(.error):focus-within,
#memory:not(.disabled):not(.error):focus, #memory:not(.disabled):not(.error):focus-within,
#network:not(.disabled):not(.error):focus, #network:not(.disabled):not(.error):focus-within,
#pulseaudio:not(.disabled):not(.error):focus, #pulseaudio:not(.disabled):not(.error):focus-within,
#tray:not(.disabled):not(.error):focus, #tray:not(.disabled):not(.error):focus-within {
    border-color: var(--accent-highlight);
    box-shadow: var(--shadow-module-hover);
    animation: focused-glow-animation calc(2.2s * 0.7) ease-in-out infinite alternate;
    z-index: 15;
}

#clock.active:not(.disabled):not(.error),
#battery.active:not(.disabled):not(.error),
#cpu.active:not(.disabled):not(.error),
#memory.active:not(.disabled):not(.error),
#network.active:not(.disabled):not(.error),
#pulseaudio.active:not(.disabled):not(.error),
#tray.active:not(.disabled):not(.error) {
    background: var(--accent-secondary);
    color: var(--fg-primary);
    border-color: var(--accent-primary);
    box-shadow: var(--shadow-inner-pressed);
    transform: var(--interaction-transform-active-press);
    animation: state-feedback-animation calc(0.4s * 0.7) var(--transition-timing-standard);
    z-index: 20;
}

.disabled, :disabled, .error {
    opacity: var(--opacity-disabled) !important;
    cursor: var(--cursor-disabled) !important;
    transform: none !important;
    animation: none !important;
    box-shadow: none !important;
    transition: none !important;
}
.disabled, :disabled {
    background: var(--bg-disabled) !important;
    color: var(--fg-disabled) !important;
    filter: var(--filter-disabled) !important;
    border-color: var(--grey-700) !important;
}
.error {
    background: var(--bg-error) !important;
    color: var(--fg-error) !important;
    border: var(--border-width-normal) var(--border-style-dashed) var(--border-error) !important;
    font-weight: var(--font-weight-bold);
}

#workspaces {
    padding: 0 calc(var(--spacing-unit) * 0.5);
    margin: var(--module-margin-v) var(--module-margin-h);
    background: var(--bg-tertiary);
    border: var(--border-width-thin) solid var(--border-default);
    border-radius: var(--radius-module);
    box-shadow: var(--shadow-module);
}
#workspaces button {
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2.75);
    margin: var(--spacing-unit) calc(var(--spacing-unit) * 0.5);
    color: var(--fg-primary);
    background: transparent;
    border: var(--border-width-thin) solid transparent;
    border-radius: var(--radius-button);
    font-weight: var(--font-weight-medium);
    transition-property: var(--transition-properties-common);
    transition-duration: var(--transition-duration-fast);
    transition-timing-function: var(--transition-timing-standard);
    cursor: var(--cursor-pointer);
    position: relative;
    overflow: visible;
    text-shadow: var(--text-shadow-subtle);
    font-feature-settings: "liga" 1, "clig" 1;
}
#workspaces button:focus,
#workspaces button:focus-visible {
}
#workspaces button:not(.focused):not(.urgent)::after {
    content: '';
    position: absolute;
    left: 50%;
    bottom: calc(var(--spacing-unit) * -0.25);
    height: var(--border-width-normal);
    width: 0%;
    background: var(--accent-primary);
    border-radius: var(--border-width-normal);
    transform-origin: center;
    animation: dynamic-border-animation calc(0.35s * 0.7) ease-out forwards;
    animation-play-state: paused;
    opacity: 1;
}
#workspaces button:not(.focused):not(.urgent):hover::after {
    animation-play-state: running;
    width: 70%;
}
#workspaces button.persistent {
    color: var(--fg-tertiary);
    font-style: italic;
    opacity: 0.8;
}
#workspaces button.visible {
    color: var(--fg-primary);
    background: var(--bg-tertiary);
}
#workspaces button.focused {
    color: var(--fg-primary);
    background: var(--accent-gradient);
    border-color: transparent;
    box-shadow: var(--shadow-module-hover), var(--glow-focused);
    font-weight: var(--font-weight-bold);
    transform: var(--interaction-transform-hover-scale);
    animation: focused-glow-animation calc(2.2s * 0.7) ease-in-out infinite alternate;
    z-index: 5;
}
#workspaces button.urgent {
    color: var(--fg-primary);
    background: var(--accent-secondary);
    border: var(--border-width-thin) solid var(--accent-highlight);
    animation: urgent-pulse-animation calc(1.4s * 0.7) ease-in-out infinite alternate;
    font-weight: var(--font-weight-bold);
    box-shadow: 0 0 10px -2px var(--accent-secondary);
    z-index: 5;
}
#workspaces button:hover:not(.focused):not(.urgent) {
    color: var(--fg-primary);
    background: var(--bg-tertiary);
    transform: var(--interaction-transform-hover-scale) var(--interaction-transform-hover-lift);
    z-index: 1;
}
#workspaces button.visible:hover:not(.focused) {
    color: var(--fg-primary);
    background: color-mix(in srgb, var(--bg-tertiary) 60%, var(--bg-tertiary) 40%);
    transform: var(--interaction-transform-hover-scale) var(--interaction-transform-hover-lift);
    z-index: 1;
}
#workspaces button.focused:hover {
    background: var(--accent-gradient);
    box-shadow: var(--shadow-module-hover), 0 0 25px -1px var(--glow-color);
    transform: scale(1.06);
}
#workspaces button.urgent:hover {
    color: var(--fg-primary);
    background: var(--accent-secondary);
    border-color: var(--accent-highlight);
    animation-play-state: paused;
    transform: var(--interaction-transform-hover-scale);
}

#clock {
    font-family: var(--font-mono);
    font-variant-numeric: tabular-nums;
    color: var(--fg-primary);
    font-weight: var(--font-weight-medium);
    letter-spacing: 0.1em;
    text-shadow: var(--text-shadow-header);
    font-size: calc(var(--font-size-base) * 1.05);
}
#clock:hover {
    color: var(--accent-highlight);
    transform: var(--interaction-transform-hover-lift) scale(1.02);
}

#mode {
    padding: var(--module-padding-v) calc(var(--module-padding-h) * 1.3);
    color: var(--fg-primary);
    background: var(--accent-secondary);
    font-weight: var(--font-weight-bold);
    letter-spacing: 0.075em;
    text-transform: uppercase;
    border-radius: var(--radius-module) 0 0 var(--radius-module);
    clip-path: polygon(0 0, calc(100% - var(--spacing-unit) * 2) 0, 100% 100%, 0% 100%);
}

#hyprland-window {
    padding: var(--module-padding-v) var(--module-padding-h);
    color: var(--fg-primary);
    background: transparent;
    border-color: transparent;
    box-shadow: none;
    font-weight: var(--font-weight-medium);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 300px;
    font-style: italic;
}

#pulseaudio, #network, #cpu, #memory {
    background-color: var(--bg-tertiary);
    font-family: var(--font-mono);
    font-variant-numeric: tabular-nums;
    color: var(--fg-primary);
    border-radius: var(--radius-button);
    padding: var(--spacing-unit) calc(var(--spacing-unit)*2);
}

#network.disconnected {
    animation: state-feedback-animation calc(0.4s * 0.7) var(--transition-timing-standard);
}

#battery.critical:not(.charging) {
    background: var(--accent-gradient);
    color: var(--fg-primary);
    font-weight: var(--font-weight-bold);
    animation: urgent-pulse-animation calc(1.4s * 0.7) ease-in-out infinite alternate;
}

#tray {
    padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5);
    background: var(--bg-tertiary);
}
#tray > widget {
    margin: 0 var(--spacing-unit);
    opacity: 0.75;
    transition-property: opacity, transform;
    transition-duration: 0.25s;
    transition-timing-function: var(--transition-timing-standard);
    filter: drop-shadow(var(--text-shadow-subtle));
}
#tray > widget:hover {
    opacity: 1;
    transform: scale(1.15) translateY(-1px);
}

#custom-power {
    padding: 0;
    color: var(--fg-primary);
    font-size: calc(var(--font-size-large) * 1.1);
    font-weight: var(--font-weight-bold);
    cursor: var(--cursor-pointer);
    background: transparent;
    border: var(--border-width-normal) solid transparent;
    border-radius: 50%;
    width: calc(var(--font-size-large) * 2.5);
    height: calc(var(--font-size-large) * 2.5);
    display: flex;
    align-items: center;
    justify-content: center;
    transition-property: var(--transition-properties-common);
    transition-duration: var(--transition-duration-normal);
    transition-timing-function: ease-out;
}
#custom-power:hover {
    background: var(--accent-secondary);
    color: var(--fg-primary);
    border-color: var(--accent-highlight);
    box-shadow: var(--shadow-module-hover), 0 0 20px -3px var(--accent-secondary);
    transform: scale(1.2) rotate(-20deg);
}
#custom-power:active {
    transform: var(--interaction-transform-active-press) rotate(-15deg) scale(1.1);
    box-shadow: var(--shadow-inner-pressed);
    background: var(--accent-primary);
}

tooltip {
    padding: calc(var(--spacing-unit) * 2.5) calc(var(--spacing-unit) * 3.5);
    color: var(--fg-primary);
    border: var(--border-width-thin) solid var(--accent-primary);
    border-radius: var(--radius-tooltip);
    box-shadow: var(--shadow-tooltip);
    font-family: var(--font-ui);
    font-size: var(--font-size-small);
    line-height: 1.6;
    max-width: 380px;
    background-color: var(--bg-secondary);
}
tooltip label {
    color: inherit;
}

.icon, [class*="fa-"], [class*="mdi-"], [class*="nf-"] {
    font-family: var(--font-icons) !important;
    font-size: 1em;
    color: inherit;
    margin-right: calc(var(--spacing-unit) * 0.85);
    vertical-align: -0.15em;
    transition-property: color, transform, text-shadow;
    transition-duration: var(--transition-duration-normal);
    transition-timing-function: var(--transition-timing-standard);
    text-shadow: none;
    display: inline-block;
    font-style: normal !important;
}
*:hover > .icon, *:hover > [class*="fa-"], *:hover > [class*="mdi-"], *:hover > [class*="nf-"],
*:focus > .icon, *:focus > [class*="fa-"], *:focus > [class*="mdi-"], *:focus > [class*="nf-"],
*:focus-within > .icon, *:focus-within > [class*="fa-"], *:focus-within > [class*="mdi-"], *:focus-within > [class*="nf-"] {
    color: var(--accent-highlight);
    transform: scale(1.18) translateY(-1.5px);
    text-shadow: 0 2px 4px hsla(var(--accent-h), var(--accent-s), var(--accent-l-highlight), 0.4);
}
.active .icon, .active [class*="fa-"], .active [class*="mdi-"], .active [class*="nf-"] {
    color: var(--accent-primary);
    transform: scale(1.1);
    text-shadow: 0 1px 3px hsla(var(--accent-h), var(--accent-s), var(--accent-l-base), 0.5);
}
.error .icon, .error [class*="fa-"], .error [class*="mdi-"], .error [class*="nf-"] {
    color: var(--fg-error) !important;
    transform: none !important;
    text-shadow: none !important;
}
